# Kitty Terminal Configuration - Enhanced with Sessions

# Font Configuration
# font_family      JetBrainsMonoNL Nerd Font
# bold_font        auto
# italic_font      auto
# bold_italic_font auto
font_size        15.0

confirm_os_window_close 0
# Cursor Configuration
cursor_shape     block
cursor_blink_interval 1.5
cursor_stop_blinking_after 15.0
cursor_trail 3
cursor_trail_delay 0.1
cursor_beam_thickness 0.25

# Window Configuration
window_padding_width 8
window_margin_width 6
window_border_width 2
window_margin_width 6
draw_minimal_borders yes

# Tab Bar - Beautiful Powerline Style
tab_bar_min_tabs 1
tab_bar_style hidden
tab_powerline_style round
active_tab_font_style   bold
inactive_tab_font_style normal

# Scrollback
scrollback_lines 20000
scrollback_pager_history_size 1000
scrollback_fill_enlarged_gap no

# Shell
shell /usr/bin/zsh

# Background and Transparency
background_opacity 0.85
dynamic_background_opacity yes
background_blur 10
background_tint 0.0

# Performance
repaint_delay 10
input_delay 3
sync_to_monitor yes
resize_in_steps yes

# Mouse
mouse_hide_when_typing yes
focus_follows_mouse yes
pointer_shape_when_grabbed arrow

# URL and File Detection
url_prefixes http https file ftp ftps git ssh
detect_urls yes
url_style curly

# Window Management
remember_window_size yes
initial_window_width 1200
initial_window_height 800
initial_window_width 120c
initial_window_height 60c

# Advanced Features
enable_ligatures cursor
shell_integration disabled
allow_remote_control yes
listen_on unix:/tmp/kitty

# Layouts
enabled_layouts tall,fat,grid,stack,splits,horizontal,vertical
default_layout tall

# Enhanced Key Bindings
map ctrl+shift+c copy_to_clipboard
map ctrl+shift+v paste_from_clipboard
map ctrl+shift+s paste_from_selection
map ctrl+shift+z toggle_audio_bell

# Window Splits
map super+shift+enter new_tab
map super+shift+e launch --location=hsplit --cwd=current
map super+shift+p launch --location=vsplit --cwd=current
map super+shift+q close_tab

# Font Size Control
map super+equal change_font_size all +2
map super+minus change_font_size all -2
map super+0 change_font_size all 0

# Session Management
map super+o launch --type=tab sh -c 'kitten session-manager'
map super+shift+o launch --type=overlay sh -c 'kitten session-manager'

# Enhanced Session Management with Session Saver
map super+shift+s launch --type=overlay sh -c 'kitty-session-saver save'
map super+shift+r launch --type=overlay sh -c 'kitty-session-saver'

# Useful Launch Shortcuts
map super+shift+enter launch --type=tab --cwd=current
map super+shift+i launch --type=tab --cwd=current btop
map super+shift+v launch --type=tab --cwd=current nvim .
map super+shift+y launch --type=tab --cwd=current yazi

# Session-specific shortcuts
map super+s launch --type=overlay sh -c 'ls ~/.config/kitty/sessions | sed "s/.conf$//" | fzf --prompt="Session: " | xargs -I {} kitty --session ~/.config/kitty/sessions/{}.conf'

# Quick Actions
map super+shift+l launch --type=overlay sh -c 'kitten unicode_input'

# Color Scheme
include current-theme.conf
# Session Management
session_manager ~/.config/kitty/sessions

# OS Integration
linux_display_server auto
wayland_titlebar_color system
macos_titlebar_color system


# BEGIN_KITTY_FONTS
font_family      family="Monaspace Radon NF"
bold_font        auto
italic_font      auto
bold_italic_font auto
# END_KITTY_FONTS
